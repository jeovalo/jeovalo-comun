!function(e){e.module("jeovaloComun.config",[]).value("jeovaloComun.config",{debug:!0}),e.module("jeovaloComun.directives",[]),e.module("jeovaloComun.filters",[]),e.module("jeovaloComun.services",[]),e.module("jeovaloComun",["jeovaloComun.config","jeovaloComun.directives","jeovaloComun.filters","jeovaloComun.services","ngSanitize"])}(angular);var NUMBER_REGEXP=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,INT_REGEXP=/^\d+$/,FLOAT_REGEXP=/^-?\d*(\.\d+)?$/,NOMBRE_REGEXP=/^[a-zA-Z0-9]*[a-zA-Z]+[a-zA-Z0-9]*$/,EMAIL_REGEXP=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i,MONEDA_REGEXP=/^\d+(?:\.\d{0,2})$/,LETRA_REGEXP=/^[a-zA-Z]+$/,DIRECCION_REGEXP=/\d{1,5}\s\w.\s(\b\w*\b\s){1,2}\w*\./;angular.module("jeovaloComun").directive("contenteditable",["$log","$sce",function(e,n){return{restrict:"A",require:"?ngModel",link:function(t,o,r,i){if(t.inicial=o.html(),t.inicialModelo=i.$viewValue,i){var u=function(){var e=o.html();"number"!==r.type||NUMBER_REGEXP.test(e)?"int"!==r.type||INT_REGEXP.test(e)?"float"!==r.type||FLOAT_REGEXP.test(e)?"nombre"!==r.type||NOMBRE_REGEXP.test(e)?"email"!==r.type||EMAIL_REGEXP.test(e)?"moneda"!==r.type||MONEDA_REGEXP.test(e)?"letra"!==r.type||LETRA_REGEXP.test(e)?"direccion"!==r.type||DIRECCION_REGEXP.test(e)?i.$setViewValue(e):i.$render():i.$render():i.$render():i.$render():i.$render():i.$render():i.$render():i.$render()};i.$render=function(){o.html(n.getTrustedHtml(i.$viewValue||""))},"number"===r.type?i.$parsers.push(function(e){return Number(e)}):"int"===r.type?i.$parsers.push(function(e){return parseInt(e)}):"float"===r.type?i.$parsers.push(function(e){return parseFloat(e)}):"nombre"===r.type?i.$parsers.push(function(e){return String(e)}):"email"===r.type?i.$parsers.push(function(e){return String(e)}):"moneda"===r.type?i.$parsers.push(function(e){return String(e)}):"letra"===r.type?i.$parsers.push(function(e){return String(e)}):"direccion"===r.type?i.$parsers.push(function(e){return String(e)}):e.info("Tipo desconocido: "+r.type);var a=function(){o.html(n.getTrustedHtml(t.inicial||"")),o.contenteditable=!1},s=function(){i.render(),o.contenteditable=!1};o.on("blur",function(e){var n=window.event?e.keyCode:e.which;27===n?t.$apply(function(){a()}):t.$apply(u)}),o.on("keyup change",function(e){var n=window.event?e.keyCode:e.which;27===n&&t.$apply(function(){a()}),13===n?t.$apply(function(){s()}):t.$apply(u)}),o.bind("onkeypress",function(n){e.info("Evento ocurrido: onkeypress + "+n),t.$apply()}),o.bind("keypress",function(n){e.info("Evento ocurrido: keypress + "+n),t.$apply()})}}}}]);